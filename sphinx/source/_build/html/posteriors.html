

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>botorch.posteriors &mdash; BoTorch  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css?v=ca3e82f4" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="botorch.optim" href="optim.html" />
    <link rel="prev" title="botorch.generation" href="generation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            BoTorch
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="acquisition.html">botorch.acquisition</a></li>
<li class="toctree-l1"><a class="reference internal" href="models.html">botorch.models</a></li>
<li class="toctree-l1"><a class="reference internal" href="generation.html">botorch.generation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">botorch.posteriors</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#posterior-apis">Posterior APIs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-botorch.posteriors.posterior">Abstract Posterior API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#botorch.posteriors.posterior.Posterior"><code class="docutils literal notranslate"><span class="pre">Posterior</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-botorch.posteriors.posterior_list">Posterior List API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#botorch.posteriors.posterior_list.PosteriorList"><code class="docutils literal notranslate"><span class="pre">PosteriorList</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#posteriors">Posteriors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-botorch.posteriors.torch">Torch Posterior</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#botorch.posteriors.torch.TorchPosterior"><code class="docutils literal notranslate"><span class="pre">TorchPosterior</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-botorch.posteriors.gpytorch">GPyTorch Posterior</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#botorch.posteriors.gpytorch.GPyTorchPosterior"><code class="docutils literal notranslate"><span class="pre">GPyTorchPosterior</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#botorch.posteriors.gpytorch.scalarize_posterior_gpytorch"><code class="docutils literal notranslate"><span class="pre">scalarize_posterior_gpytorch()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#botorch.posteriors.gpytorch.scalarize_posterior"><code class="docutils literal notranslate"><span class="pre">scalarize_posterior()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-botorch.posteriors.ensemble">Ensemble Posterior</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#botorch.posteriors.ensemble.EnsemblePosterior"><code class="docutils literal notranslate"><span class="pre">EnsemblePosterior</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-botorch.posteriors.higher_order">Higher Order GP Posterior</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#botorch.posteriors.higher_order.HigherOrderGPPosterior"><code class="docutils literal notranslate"><span class="pre">HigherOrderGPPosterior</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-botorch.posteriors.latent_kronecker">Latent Kronecker GP Posterior</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#botorch.posteriors.latent_kronecker.LatentKroneckerGPPosterior"><code class="docutils literal notranslate"><span class="pre">LatentKroneckerGPPosterior</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-botorch.posteriors.multitask">Multitask GP Posterior</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#botorch.posteriors.multitask.MultitaskGPPosterior"><code class="docutils literal notranslate"><span class="pre">MultitaskGPPosterior</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-botorch.posteriors.transformed">Transformed Posterior</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#botorch.posteriors.transformed.TransformedPosterior"><code class="docutils literal notranslate"><span class="pre">TransformedPosterior</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-botorch.posteriors.fully_bayesian">Fully Bayesian Posterior</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#botorch.posteriors.fully_bayesian.batched_bisect"><code class="docutils literal notranslate"><span class="pre">batched_bisect()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#botorch.posteriors.fully_bayesian.GaussianMixturePosterior"><code class="docutils literal notranslate"><span class="pre">GaussianMixturePosterior</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#botorch.posteriors.fully_bayesian.FullyBayesianPosterior"><code class="docutils literal notranslate"><span class="pre">FullyBayesianPosterior</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#utilities">Utilities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-botorch.posteriors.base_samples">Base Samples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="optim.html">botorch.optim</a></li>
<li class="toctree-l1"><a class="reference internal" href="fit.html">botorch.fit</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampling.html">botorch.sampling</a></li>
<li class="toctree-l1"><a class="reference internal" href="cross_validation.html">botorch.cross_validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="settings.html">botorch.settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="logging.html">botorch.logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="test_functions.html">botorch.test_functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="test_utils.html">botorch.test_utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="exceptions.html">botorch.exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">botorch.utils</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">BoTorch</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">botorch.posteriors</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/posteriors.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-botorch.posteriors">
<span id="botorch-posteriors"></span><h1>botorch.posteriors<a class="headerlink" href="#module-botorch.posteriors" title="Link to this heading"></a></h1>
<section id="posterior-apis">
<h2>Posterior APIs<a class="headerlink" href="#posterior-apis" title="Link to this heading"></a></h2>
<section id="module-botorch.posteriors.posterior">
<span id="abstract-posterior-api"></span><h3>Abstract Posterior API<a class="headerlink" href="#module-botorch.posteriors.posterior" title="Link to this heading"></a></h3>
<p>Abstract base module for all botorch posteriors.</p>
<dl class="py class">
<dt class="sig sig-object py" id="botorch.posteriors.posterior.Posterior">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">botorch.posteriors.posterior.</span></span><span class="sig-name descname"><span class="pre">Posterior</span></span><a class="reference internal" href="_modules/botorch/posteriors/posterior.html#Posterior"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.posterior.Posterior" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></p>
<p>Abstract base class for botorch posteriors.</p>
<dl class="py method">
<dt class="sig sig-object py" id="botorch.posteriors.posterior.Posterior.rsample_from_base_samples">
<span class="sig-name descname"><span class="pre">rsample_from_base_samples</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_samples</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/posterior.html#Posterior.rsample_from_base_samples"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.posterior.Posterior.rsample_from_base_samples" title="Link to this definition"></a></dt>
<dd><p>Sample from the posterior (with gradients) using base samples.</p>
<p>This is intended to be used with a sampler that produces the corresponding base
samples, and enables acquisition optimization via Sample Average Approximation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sample_shape</strong> (<em>Size</em>) – A <cite>torch.Size</cite> object specifying the sample shape. To
draw <cite>n</cite> samples, set to <cite>torch.Size([n])</cite>. To draw <cite>b</cite> batches
of <cite>n</cite> samples each, set to <cite>torch.Size([b, n])</cite>.</p></li>
<li><p><strong>base_samples</strong> (<em>Tensor</em>) – The base samples, obtained from the appropriate sampler.
This is a tensor of shape <cite>sample_shape x base_sample_shape</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Samples from the posterior, a tensor of shape
<cite>self._extended_shape(sample_shape=sample_shape)</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Tensor</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="botorch.posteriors.posterior.Posterior.rsample">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">rsample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/posterior.html#Posterior.rsample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.posterior.Posterior.rsample" title="Link to this definition"></a></dt>
<dd><p>Sample from the posterior (with gradients).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sample_shape</strong> (<em>Size</em><em> | </em><em>None</em>) – A <cite>torch.Size</cite> object specifying the sample shape. To
draw <cite>n</cite> samples, set to <cite>torch.Size([n])</cite>. To draw <cite>b</cite> batches
of <cite>n</cite> samples each, set to <cite>torch.Size([b, n])</cite>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Samples from the posterior, a tensor of shape
<cite>self._extended_shape(sample_shape=sample_shape)</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Tensor</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="botorch.posteriors.posterior.Posterior.sample">
<span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/posterior.html#Posterior.sample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.posterior.Posterior.sample" title="Link to this definition"></a></dt>
<dd><p>Sample from the posterior without gradients.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sample_shape</strong> (<em>Size</em><em> | </em><em>None</em>) – A <cite>torch.Size</cite> object specifying the sample shape. To
draw <cite>n</cite> samples, set to <cite>torch.Size([n])</cite>. To draw <cite>b</cite> batches
of <cite>n</cite> samples each, set to <cite>torch.Size([b, n])</cite>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Samples from the posterior, a tensor of shape
<cite>self._extended_shape(sample_shape=sample_shape)</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Tensor</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.posterior.Posterior.device">
<em class="property"><span class="k"><span class="pre">abstract</span></span><span class="w"> </span><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">device</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">device</span></em><a class="headerlink" href="#botorch.posteriors.posterior.Posterior.device" title="Link to this definition"></a></dt>
<dd><p>The torch device of the distribution.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.posterior.Posterior.dtype">
<em class="property"><span class="k"><span class="pre">abstract</span></span><span class="w"> </span><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dtype</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dtype</span></em><a class="headerlink" href="#botorch.posteriors.posterior.Posterior.dtype" title="Link to this definition"></a></dt>
<dd><p>The torch dtype of the distribution.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="botorch.posteriors.posterior.Posterior.quantile">
<span class="sig-name descname"><span class="pre">quantile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/posterior.html#Posterior.quantile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.posterior.Posterior.quantile" title="Link to this definition"></a></dt>
<dd><p>Compute quantiles of the distribution.</p>
<p>For multi-variate distributions, this may return the quantiles of
the marginal distributions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>Tensor</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><em>Tensor</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="botorch.posteriors.posterior.Posterior.density">
<span class="sig-name descname"><span class="pre">density</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/posterior.html#Posterior.density"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.posterior.Posterior.density" title="Link to this definition"></a></dt>
<dd><p>The probability density (or mass) of the distribution.</p>
<p>For multi-variate distributions, this may return the density of
the marginal distributions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>Tensor</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><em>Tensor</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.posterior.Posterior.base_sample_shape">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">base_sample_shape</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Size</span></em><a class="headerlink" href="#botorch.posteriors.posterior.Posterior.base_sample_shape" title="Link to this definition"></a></dt>
<dd><p>The base shape of the base samples expected in <cite>rsample</cite>.</p>
<p>Informs the sampler to produce base samples of shape
<cite>sample_shape x base_sample_shape</cite>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.posterior.Posterior.batch_range">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">batch_range</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#botorch.posteriors.posterior.Posterior.batch_range" title="Link to this definition"></a></dt>
<dd><p>The t-batch range.</p>
<p>This is used in samplers to identify the t-batch component of the
<cite>base_sample_shape</cite>. The base samples are expanded over the t-batches to
provide consistency in the acquisition values, i.e., to ensure that a
candidate produces same value regardless of its position on the t-batch.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-botorch.posteriors.posterior_list">
<span id="posterior-list-api"></span><h3>Posterior List API<a class="headerlink" href="#module-botorch.posteriors.posterior_list" title="Link to this heading"></a></h3>
<p>Abstract base module for all botorch posteriors.</p>
<dl class="py class">
<dt class="sig sig-object py" id="botorch.posteriors.posterior_list.PosteriorList">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">botorch.posteriors.posterior_list.</span></span><span class="sig-name descname"><span class="pre">PosteriorList</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">posteriors</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/posterior_list.html#PosteriorList"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.posterior_list.PosteriorList" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#botorch.posteriors.posterior.Posterior" title="botorch.posteriors.posterior.Posterior"><code class="xref py py-class docutils literal notranslate"><span class="pre">Posterior</span></code></a></p>
<p>A Posterior represented by a list of independent Posteriors.</p>
<p>When at least one of the posteriors is a <cite>GaussianMixturePosterior</cite>, the other
posteriors are expanded to match the size of the <cite>GaussianMixturePosterior</cite>.</p>
<p>A Posterior represented by a list of independent Posteriors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>*posteriors</strong> (<a class="reference internal" href="#botorch.posteriors.posterior.Posterior" title="botorch.posteriors.posterior.Posterior"><em>Posterior</em></a>) – A variable number of single-outcome posteriors.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p_1</span> <span class="o">=</span> <span class="n">model_1</span><span class="o">.</span><span class="n">posterior</span><span class="p">(</span><span class="n">test_X</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p_2</span> <span class="o">=</span> <span class="n">model_2</span><span class="o">.</span><span class="n">posterior</span><span class="p">(</span><span class="n">test_X</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p_12</span> <span class="o">=</span> <span class="n">PosteriorList</span><span class="p">(</span><span class="n">p_1</span><span class="p">,</span> <span class="n">p_2</span><span class="p">)</span>
</pre></div>
</div>
<p>Note: This is typically produced automatically in <cite>ModelList</cite>; it should
generally not be necessary for the end user to invoke it manually.</p>
<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.posterior_list.PosteriorList.device">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">device</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">device</span></em><a class="headerlink" href="#botorch.posteriors.posterior_list.PosteriorList.device" title="Link to this definition"></a></dt>
<dd><p>The torch device of the posterior.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.posterior_list.PosteriorList.dtype">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dtype</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dtype</span></em><a class="headerlink" href="#botorch.posteriors.posterior_list.PosteriorList.dtype" title="Link to this definition"></a></dt>
<dd><p>The torch dtype of the posterior.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.posterior_list.PosteriorList.mean">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mean</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tensor</span></em><a class="headerlink" href="#botorch.posteriors.posterior_list.PosteriorList.mean" title="Link to this definition"></a></dt>
<dd><p>The mean of the posterior as a <cite>(b) x n x m</cite>-dim Tensor.</p>
<p>This is only supported if all posteriors provide a mean.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.posterior_list.PosteriorList.variance">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">variance</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tensor</span></em><a class="headerlink" href="#botorch.posteriors.posterior_list.PosteriorList.variance" title="Link to this definition"></a></dt>
<dd><p>The variance of the posterior as a <cite>(b) x n x m</cite>-dim Tensor.</p>
<p>This is only supported if all posteriors provide a variance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="botorch.posteriors.posterior_list.PosteriorList.rsample">
<span class="sig-name descname"><span class="pre">rsample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/posterior_list.html#PosteriorList.rsample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.posterior_list.PosteriorList.rsample" title="Link to this definition"></a></dt>
<dd><p>Sample from the posterior (with gradients).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sample_shape</strong> (<em>Size</em><em> | </em><em>None</em>) – A <cite>torch.Size</cite> object specifying the sample shape. To
draw <cite>n</cite> samples, set to <cite>torch.Size([n])</cite>. To draw <cite>b</cite> batches
of <cite>n</cite> samples each, set to <cite>torch.Size([b, n])</cite>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Samples from the posterior, a tensor of shape
<cite>self._extended_shape(sample_shape=sample_shape)</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Tensor</em></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="posteriors">
<h2>Posteriors<a class="headerlink" href="#posteriors" title="Link to this heading"></a></h2>
<section id="module-botorch.posteriors.torch">
<span id="torch-posterior"></span><h3>Torch Posterior<a class="headerlink" href="#module-botorch.posteriors.torch" title="Link to this heading"></a></h3>
<p>Posterior module to be used with PyTorch distributions.</p>
<dl class="py class">
<dt class="sig sig-object py" id="botorch.posteriors.torch.TorchPosterior">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">botorch.posteriors.torch.</span></span><span class="sig-name descname"><span class="pre">TorchPosterior</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">distribution</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/torch.html#TorchPosterior"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.torch.TorchPosterior" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#botorch.posteriors.posterior.Posterior" title="botorch.posteriors.posterior.Posterior"><code class="xref py py-class docutils literal notranslate"><span class="pre">Posterior</span></code></a></p>
<p>A posterior based on a PyTorch Distribution.</p>
<p>NOTE: For any attribute that is not explicitly defined on the Posterior level, this
returns the corresponding attribute of the distribution. This allows easy access
to the distribution attributes, without having to expose them on the Posterior.</p>
<p>A posterior based on a PyTorch Distribution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>distribution</strong> (<em>Distribution</em>) – A PyTorch Distribution object.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="botorch.posteriors.torch.TorchPosterior.rsample">
<span class="sig-name descname"><span class="pre">rsample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/torch.html#TorchPosterior.rsample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.torch.TorchPosterior.rsample" title="Link to this definition"></a></dt>
<dd><p>Sample from the posterior (with gradients).</p>
<p>This is generally used with a sampler that produces the base samples.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sample_shape</strong> (<em>Size</em><em> | </em><em>None</em>) – A <cite>torch.Size</cite> object specifying the sample shape. To
draw <cite>n</cite> samples, set to <cite>torch.Size([n])</cite>. To draw <cite>b</cite> batches
of <cite>n</cite> samples each, set to <cite>torch.Size([b, n])</cite>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Samples from the posterior, a tensor of shape
<cite>self._extended_shape(sample_shape=sample_shape)</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Tensor</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.torch.TorchPosterior.device">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">device</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">device</span></em><a class="headerlink" href="#botorch.posteriors.torch.TorchPosterior.device" title="Link to this definition"></a></dt>
<dd><p>The torch device of the distribution.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.torch.TorchPosterior.dtype">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dtype</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dtype</span></em><a class="headerlink" href="#botorch.posteriors.torch.TorchPosterior.dtype" title="Link to this definition"></a></dt>
<dd><p>The torch dtype of the distribution.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="botorch.posteriors.torch.TorchPosterior.quantile">
<span class="sig-name descname"><span class="pre">quantile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/torch.html#TorchPosterior.quantile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.torch.TorchPosterior.quantile" title="Link to this definition"></a></dt>
<dd><p>Compute quantiles of the distribution.</p>
<p>For multi-variate distributions, this may return the quantiles of
the marginal distributions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>Tensor</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><em>Tensor</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="botorch.posteriors.torch.TorchPosterior.density">
<span class="sig-name descname"><span class="pre">density</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/torch.html#TorchPosterior.density"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.torch.TorchPosterior.density" title="Link to this definition"></a></dt>
<dd><p>The probability density (or mass if discrete) of the distribution.</p>
<p>For multi-variate distributions, this may return the density of
the marginal distributions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>Tensor</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><em>Tensor</em></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-botorch.posteriors.gpytorch">
<span id="gpytorch-posterior"></span><h3>GPyTorch Posterior<a class="headerlink" href="#module-botorch.posteriors.gpytorch" title="Link to this heading"></a></h3>
<p>Posterior module to be used with GPyTorch models.</p>
<dl class="py class">
<dt class="sig sig-object py" id="botorch.posteriors.gpytorch.GPyTorchPosterior">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">botorch.posteriors.gpytorch.</span></span><span class="sig-name descname"><span class="pre">GPyTorchPosterior</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">distribution</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/gpytorch.html#GPyTorchPosterior"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.gpytorch.GPyTorchPosterior" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#botorch.posteriors.torch.TorchPosterior" title="botorch.posteriors.torch.TorchPosterior"><code class="xref py py-class docutils literal notranslate"><span class="pre">TorchPosterior</span></code></a></p>
<p>A posterior based on GPyTorch’s multi-variate Normal distributions.</p>
<p>A posterior based on GPyTorch’s multi-variate Normal distributions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>distribution</strong> (<em>MultivariateNormal</em>) – A GPyTorch MultivariateNormal (single-output case) or
MultitaskMultivariateNormal (multi-output case).</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="botorch.posteriors.gpytorch.GPyTorchPosterior.distribution">
<span class="sig-name descname"><span class="pre">distribution</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">MultivariateNormal</span></em><a class="headerlink" href="#botorch.posteriors.gpytorch.GPyTorchPosterior.distribution" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.gpytorch.GPyTorchPosterior.mvn">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mvn</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">MultivariateNormal</span></em><a class="headerlink" href="#botorch.posteriors.gpytorch.GPyTorchPosterior.mvn" title="Link to this definition"></a></dt>
<dd><p>Expose the distribution as a backwards-compatible attribute.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.gpytorch.GPyTorchPosterior.base_sample_shape">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">base_sample_shape</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Size</span></em><a class="headerlink" href="#botorch.posteriors.gpytorch.GPyTorchPosterior.base_sample_shape" title="Link to this definition"></a></dt>
<dd><p>The shape of a base sample used for constructing posterior samples.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.gpytorch.GPyTorchPosterior.batch_range">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">batch_range</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#botorch.posteriors.gpytorch.GPyTorchPosterior.batch_range" title="Link to this definition"></a></dt>
<dd><p>The t-batch range.</p>
<p>This is used in samplers to identify the t-batch component of the
<cite>base_sample_shape</cite>. The base samples are expanded over the t-batches to
provide consistency in the acquisition values, i.e., to ensure that a
candidate produces same value regardless of its position on the t-batch.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="botorch.posteriors.gpytorch.GPyTorchPosterior.rsample_from_base_samples">
<span class="sig-name descname"><span class="pre">rsample_from_base_samples</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_samples</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/gpytorch.html#GPyTorchPosterior.rsample_from_base_samples"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.gpytorch.GPyTorchPosterior.rsample_from_base_samples" title="Link to this definition"></a></dt>
<dd><p>Sample from the posterior (with gradients) using base samples.</p>
<p>This is intended to be used with a sampler that produces the corresponding base
samples, and enables acquisition optimization via Sample Average Approximation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sample_shape</strong> (<em>Size</em>) – A <cite>torch.Size</cite> object specifying the sample shape. To
draw <cite>n</cite> samples, set to <cite>torch.Size([n])</cite>. To draw <cite>b</cite> batches
of <cite>n</cite> samples each, set to <cite>torch.Size([b, n])</cite>.</p></li>
<li><p><strong>base_samples</strong> (<em>Tensor</em>) – A Tensor of <cite>N(0, I)</cite> base samples of shape
<cite>sample_shape x base_sample_shape</cite>, typically obtained from
a <cite>Sampler</cite>. This is used for deterministic optimization.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Samples from the posterior, a tensor of shape
<cite>self._extended_shape(sample_shape=sample_shape)</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Tensor</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="botorch.posteriors.gpytorch.GPyTorchPosterior.rsample">
<span class="sig-name descname"><span class="pre">rsample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/gpytorch.html#GPyTorchPosterior.rsample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.gpytorch.GPyTorchPosterior.rsample" title="Link to this definition"></a></dt>
<dd><p>Sample from the posterior (with gradients).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sample_shape</strong> (<em>Size</em><em> | </em><em>None</em>) – A <cite>torch.Size</cite> object specifying the sample shape. To
draw <cite>n</cite> samples, set to <cite>torch.Size([n])</cite>. To draw <cite>b</cite> batches
of <cite>n</cite> samples each, set to <cite>torch.Size([b, n])</cite>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Samples from the posterior, a tensor of shape
<cite>self._extended_shape(sample_shape=sample_shape)</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Tensor</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.gpytorch.GPyTorchPosterior.mean">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mean</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tensor</span></em><a class="headerlink" href="#botorch.posteriors.gpytorch.GPyTorchPosterior.mean" title="Link to this definition"></a></dt>
<dd><p>The posterior mean.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.gpytorch.GPyTorchPosterior.variance">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">variance</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tensor</span></em><a class="headerlink" href="#botorch.posteriors.gpytorch.GPyTorchPosterior.variance" title="Link to this definition"></a></dt>
<dd><p>The posterior variance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="botorch.posteriors.gpytorch.GPyTorchPosterior.quantile">
<span class="sig-name descname"><span class="pre">quantile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/gpytorch.html#GPyTorchPosterior.quantile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.gpytorch.GPyTorchPosterior.quantile" title="Link to this definition"></a></dt>
<dd><p>Compute the quantiles of the marginal distributions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>Tensor</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><em>Tensor</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="botorch.posteriors.gpytorch.GPyTorchPosterior.density">
<span class="sig-name descname"><span class="pre">density</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/gpytorch.html#GPyTorchPosterior.density"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.gpytorch.GPyTorchPosterior.density" title="Link to this definition"></a></dt>
<dd><p>The probability density of the marginal distributions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>Tensor</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><em>Tensor</em></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="botorch.posteriors.gpytorch.scalarize_posterior_gpytorch">
<span class="sig-prename descclassname"><span class="pre">botorch.posteriors.gpytorch.</span></span><span class="sig-name descname"><span class="pre">scalarize_posterior_gpytorch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">posterior</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/gpytorch.html#scalarize_posterior_gpytorch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.gpytorch.scalarize_posterior_gpytorch" title="Link to this definition"></a></dt>
<dd><p>Helper function for <cite>scalarize_posterior</cite>, producing a mean and
variance.</p>
<p>This mean and variance are consumed by <cite>scalarize_posterior</cite> to produce
a <cite>GPyTorchPosterior</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>posterior</strong> (<a class="reference internal" href="#botorch.posteriors.gpytorch.GPyTorchPosterior" title="botorch.posteriors.gpytorch.GPyTorchPosterior"><em>GPyTorchPosterior</em></a>) – The posterior over <cite>m</cite> outcomes to be scalarized.
Supports <cite>t</cite>-batching.</p></li>
<li><p><strong>weights</strong> (<em>Tensor</em>) – A tensor of weights of size <cite>m</cite>.</p></li>
<li><p><strong>offset</strong> (<em>float</em>) – The offset of the affine transformation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>The transformed (single-output) posterior. If the input posterior has</dt><dd><p>mean <cite>mu</cite> and covariance matrix <cite>Sigma</cite>, this posterior has mean
<cite>weights^T * mu</cite> and variance <cite>weights^T Sigma w</cite>.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple[<em>Tensor</em>, <em>Tensor</em> | <em>LinearOperator</em>]</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Example for a model with two outcomes:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">posterior</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">posterior</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">weights</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mean</span><span class="p">,</span> <span class="n">cov</span> <span class="o">=</span> <span class="n">scalarize_posterior_gpytorch</span><span class="p">(</span><span class="n">posterior</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="n">weights</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mvn</span> <span class="o">=</span> <span class="n">MultivariateNormal</span><span class="p">(</span><span class="n">mean</span><span class="p">,</span> <span class="n">cov</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_posterior</span> <span class="o">=</span> <span class="n">GPyTorchPosterior</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="botorch.posteriors.gpytorch.scalarize_posterior">
<span class="sig-prename descclassname"><span class="pre">botorch.posteriors.gpytorch.</span></span><span class="sig-name descname"><span class="pre">scalarize_posterior</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">posterior</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/gpytorch.html#scalarize_posterior"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.gpytorch.scalarize_posterior" title="Link to this definition"></a></dt>
<dd><p>Affine transformation of a multi-output posterior.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>posterior</strong> (<a class="reference internal" href="#botorch.posteriors.gpytorch.GPyTorchPosterior" title="botorch.posteriors.gpytorch.GPyTorchPosterior"><em>GPyTorchPosterior</em></a><em> | </em><a class="reference internal" href="#botorch.posteriors.posterior_list.PosteriorList" title="botorch.posteriors.posterior_list.PosteriorList"><em>PosteriorList</em></a>) – The posterior over <cite>m</cite> outcomes to be scalarized.
Supports <cite>t</cite>-batching. Can be either a <cite>GPyTorchPosterior</cite>,
or a <cite>PosteriorList</cite> that contains GPyTorchPosteriors all with q=1.</p></li>
<li><p><strong>weights</strong> (<em>Tensor</em>) – A tensor of weights of size <cite>m</cite>.</p></li>
<li><p><strong>offset</strong> (<em>float</em>) – The offset of the affine transformation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>The transformed (single-output) posterior. If the input posterior has</dt><dd><p>mean <cite>mu</cite> and covariance matrix <cite>Sigma</cite>, this posterior has mean
<cite>weights^T * mu</cite> and variance <cite>weights^T Sigma w</cite>.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#botorch.posteriors.gpytorch.GPyTorchPosterior" title="botorch.posteriors.gpytorch.GPyTorchPosterior">GPyTorchPosterior</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Example for a model with two outcomes:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">posterior</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">posterior</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">weights</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_posterior</span> <span class="o">=</span> <span class="n">scalarize_posterior</span><span class="p">(</span><span class="n">posterior</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="n">weights</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-botorch.posteriors.ensemble">
<span id="ensemble-posterior"></span><h3>Ensemble Posterior<a class="headerlink" href="#module-botorch.posteriors.ensemble" title="Link to this heading"></a></h3>
<p>Ensemble posteriors. Used in conjunction with ensemble models.</p>
<dl class="py class">
<dt class="sig sig-object py" id="botorch.posteriors.ensemble.EnsemblePosterior">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">botorch.posteriors.ensemble.</span></span><span class="sig-name descname"><span class="pre">EnsemblePosterior</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/ensemble.html#EnsemblePosterior"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.ensemble.EnsemblePosterior" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#botorch.posteriors.posterior.Posterior" title="botorch.posteriors.posterior.Posterior"><code class="xref py py-class docutils literal notranslate"><span class="pre">Posterior</span></code></a></p>
<p>Ensemble posterior, that should be used for ensemble models that compute
eagerly a finite number of samples per X value as for example a deep ensemble
or a random forest.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>values</strong> (<em>Tensor</em>) – Values of the samples produced by this posterior as
a <cite>(b) x s x q x m</cite> tensor where <cite>m</cite> is the output size of the
model and <cite>s</cite> is the ensemble size.</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.ensemble.EnsemblePosterior.ensemble_size">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ensemble_size</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#botorch.posteriors.ensemble.EnsemblePosterior.ensemble_size" title="Link to this definition"></a></dt>
<dd><p>The size of the ensemble</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.ensemble.EnsemblePosterior.weights">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">weights</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tensor</span></em><a class="headerlink" href="#botorch.posteriors.ensemble.EnsemblePosterior.weights" title="Link to this definition"></a></dt>
<dd><p>The weights of the individual models in the ensemble.
Equally weighted by default.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.ensemble.EnsemblePosterior.device">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">device</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">device</span></em><a class="headerlink" href="#botorch.posteriors.ensemble.EnsemblePosterior.device" title="Link to this definition"></a></dt>
<dd><p>The torch device of the posterior.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.ensemble.EnsemblePosterior.dtype">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dtype</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dtype</span></em><a class="headerlink" href="#botorch.posteriors.ensemble.EnsemblePosterior.dtype" title="Link to this definition"></a></dt>
<dd><p>The torch dtype of the posterior.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.ensemble.EnsemblePosterior.mean">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mean</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tensor</span></em><a class="headerlink" href="#botorch.posteriors.ensemble.EnsemblePosterior.mean" title="Link to this definition"></a></dt>
<dd><p>The mean of the posterior as a <cite>(b) x n x m</cite>-dim Tensor.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.ensemble.EnsemblePosterior.variance">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">variance</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tensor</span></em><a class="headerlink" href="#botorch.posteriors.ensemble.EnsemblePosterior.variance" title="Link to this definition"></a></dt>
<dd><p>The variance of the posterior as a <cite>(b) x n x m</cite>-dim Tensor.</p>
<p>Computed as the sample variance across the ensemble outputs.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="botorch.posteriors.ensemble.EnsemblePosterior.rsample">
<span class="sig-name descname"><span class="pre">rsample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/ensemble.html#EnsemblePosterior.rsample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.ensemble.EnsemblePosterior.rsample" title="Link to this definition"></a></dt>
<dd><p>Sample from the posterior (with gradients).</p>
<p>Based on the sample shape, base samples are generated and passed to
<cite>rsample_from_base_samples</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sample_shape</strong> (<em>Size</em><em> | </em><em>None</em>) – A <cite>torch.Size</cite> object specifying the sample shape. To
draw <cite>n</cite> samples, set to <cite>torch.Size([n])</cite>. To draw <cite>b</cite> batches
of <cite>n</cite> samples each, set to <cite>torch.Size([b, n])</cite>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Samples from the posterior, a tensor of shape
<cite>self._extended_shape(sample_shape=sample_shape)</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Tensor</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="botorch.posteriors.ensemble.EnsemblePosterior.rsample_from_base_samples">
<span class="sig-name descname"><span class="pre">rsample_from_base_samples</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_samples</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/ensemble.html#EnsemblePosterior.rsample_from_base_samples"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.ensemble.EnsemblePosterior.rsample_from_base_samples" title="Link to this definition"></a></dt>
<dd><p>Sample from the posterior (with gradients) using base samples.</p>
<p>This is intended to be used with a sampler that produces the corresponding base
samples, and enables acquisition optimization via Sample Average Approximation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sample_shape</strong> (<em>Size</em>) – A <cite>torch.Size</cite> object specifying the sample shape. To
draw <cite>n</cite> samples, set to <cite>torch.Size([n])</cite>. To draw <cite>b</cite> batches
of <cite>n</cite> samples each, set to <cite>torch.Size([b, n])</cite>.</p></li>
<li><p><strong>base_samples</strong> (<em>Tensor</em>) – A Tensor of indices as base samples of shape
<cite>sample_shape</cite>, typically obtained from <cite>IndexSampler</cite>.
This is used for deterministic optimization. The predictions of
the ensemble corresponding to the indices are then sampled.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Samples from the posterior, a tensor of shape
<cite>self._extended_shape(sample_shape=sample_shape)</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Tensor</em></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-botorch.posteriors.higher_order">
<span id="higher-order-gp-posterior"></span><h3>Higher Order GP Posterior<a class="headerlink" href="#module-botorch.posteriors.higher_order" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="botorch.posteriors.higher_order.HigherOrderGPPosterior">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">botorch.posteriors.higher_order.</span></span><span class="sig-name descname"><span class="pre">HigherOrderGPPosterior</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">distribution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joint_covariance_matrix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_train_covar</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_train_covar</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_targets</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_outputs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/higher_order.html#HigherOrderGPPosterior"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.higher_order.HigherOrderGPPosterior" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#botorch.posteriors.gpytorch.GPyTorchPosterior" title="botorch.posteriors.gpytorch.GPyTorchPosterior"><code class="xref py py-class docutils literal notranslate"><span class="pre">GPyTorchPosterior</span></code></a></p>
<p>Posterior class for a Higher order Gaussian process model <a class="reference internal" href="models.html#zhe2019hogp" id="id1"><span>[Zhe2019hogp]</span></a>. Extends
the standard GPyTorch posterior class by overwriting the rsample method.
The posterior variance is handled internally by the HigherOrderGP model.
HOGP is a tensorized GP model so the posterior covariance grows to be extremely
large, but is highly structured, which means that we can exploit Kronecker
identities to sample from the posterior using Matheron’s rule as described in
<a class="reference internal" href="models.html#doucet2010sampl" id="id2"><span>[Doucet2010sampl]</span></a>.</p>
<p>In general, this posterior should ONLY be used for HOGP models
that have highly structured covariances. It should also only be used internally when
called from the HigherOrderGP.posterior(…) method. At this time, the posterior
does not support gradients with respect to the training data.</p>
<p>A Posterior for HigherOrderGP models.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>distribution</strong> (<em>MultivariateNormal</em>) – Posterior multivariate normal distribution.</p></li>
<li><p><strong>joint_covariance_matrix</strong> (<em>LinearOperator</em>) – Joint test train covariance matrix over the entire
tensor.</p></li>
<li><p><strong>train_train_covar</strong> (<em>LinearOperator</em>) – Covariance matrix of train points in the data space.</p></li>
<li><p><strong>test_train_covar</strong> (<em>LinearOperator</em>) – Covariance matrix of test x train points
in the data space.</p></li>
<li><p><strong>train_targets</strong> (<em>Tensor</em>) – Training responses vectorized.</p></li>
<li><p><strong>output_shape</strong> (<em>Size</em>) – Shape output training responses.</p></li>
<li><p><strong>num_outputs</strong> (<em>int</em>) – Batch shaping of model.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.higher_order.HigherOrderGPPosterior.base_sample_shape">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">base_sample_shape</span></span><a class="headerlink" href="#botorch.posteriors.higher_order.HigherOrderGPPosterior.base_sample_shape" title="Link to this definition"></a></dt>
<dd><p>The shape of a base sample used for constructing posterior samples.</p>
<p>Overwrites the standard <cite>base_sample_shape</cite> call to inform samplers that
<cite>n + 2 n_train</cite> samples need to be drawn rather than n samples.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.higher_order.HigherOrderGPPosterior.batch_range">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">batch_range</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#botorch.posteriors.higher_order.HigherOrderGPPosterior.batch_range" title="Link to this definition"></a></dt>
<dd><p>The t-batch range.</p>
<p>This is used in samplers to identify the t-batch component of the
<cite>base_sample_shape</cite>. The base samples are expanded over the t-batches to
provide consistency in the acquisition values, i.e., to ensure that a
candidate produces same value regardless of its position on the t-batch.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="botorch.posteriors.higher_order.HigherOrderGPPosterior.rsample_from_base_samples">
<span class="sig-name descname"><span class="pre">rsample_from_base_samples</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_samples</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/higher_order.html#HigherOrderGPPosterior.rsample_from_base_samples"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.higher_order.HigherOrderGPPosterior.rsample_from_base_samples" title="Link to this definition"></a></dt>
<dd><p>Sample from the posterior (with gradients) using base samples.</p>
<p>As the posterior covariance is difficult to draw from in this model,
we implement Matheron’s rule as described in [Doucet2010sampl]-. This may not
work entirely correctly for deterministic base samples unless base samples
are provided that are of shape <cite>n + 2 * n_train</cite> because the sampling method
draws <cite>2 * n_train</cite> samples as well as the standard <cite>n</cite>.
samples.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sample_shape</strong> (<em>Size</em>) – A <cite>torch.Size</cite> object specifying the sample shape. To
draw <cite>n</cite> samples, set to <cite>torch.Size([n])</cite>. To draw <cite>b</cite> batches
of <cite>n</cite> samples each, set to <cite>torch.Size([b, n])</cite>.</p></li>
<li><p><strong>base_samples</strong> (<em>Tensor</em><em> | </em><em>None</em>) – An (optional) Tensor of <cite>N(0, I)</cite> base samples of
appropriate dimension, typically obtained from a <cite>Sampler</cite>.
This is used for deterministic optimization.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Samples from the posterior, a tensor of shape
<cite>self._extended_shape(sample_shape=sample_shape)</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Tensor</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="botorch.posteriors.higher_order.HigherOrderGPPosterior.rsample">
<span class="sig-name descname"><span class="pre">rsample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/higher_order.html#HigherOrderGPPosterior.rsample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.higher_order.HigherOrderGPPosterior.rsample" title="Link to this definition"></a></dt>
<dd><p>Sample from the posterior (with gradients).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sample_shape</strong> (<em>Size</em><em> | </em><em>None</em>) – A <cite>torch.Size</cite> object specifying the sample shape. To
draw <cite>n</cite> samples, set to <cite>torch.Size([n])</cite>. To draw <cite>b</cite> batches
of <cite>n</cite> samples each, set to <cite>torch.Size([b, n])</cite>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Samples from the posterior, a tensor of shape
<cite>self._extended_shape(sample_shape=sample_shape)</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Tensor</em></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-botorch.posteriors.latent_kronecker">
<span id="latent-kronecker-gp-posterior"></span><h3>Latent Kronecker GP Posterior<a class="headerlink" href="#module-botorch.posteriors.latent_kronecker" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="botorch.posteriors.latent_kronecker.LatentKroneckerGPPosterior">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">botorch.posteriors.latent_kronecker.</span></span><span class="sig-name descname"><span class="pre">LatentKroneckerGPPosterior</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">X</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/latent_kronecker.html#LatentKroneckerGPPosterior"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.latent_kronecker.LatentKroneckerGPPosterior" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#botorch.posteriors.gpytorch.GPyTorchPosterior" title="botorch.posteriors.gpytorch.GPyTorchPosterior"><code class="xref py py-class docutils literal notranslate"><span class="pre">GPyTorchPosterior</span></code></a></p>
<p>Dummy posterior class for a LatentKroneckerGP model.
Internally calls model._rsample_from_base_samples to draw posterior samples via
pathwise conditioning aka Matheron’s rule [wilson2020sampling, wilson2021pathwise].</p>
<p>This is necessary because BoTorch instantiates the posterior object before creating
base samples, whereas pathwise conditioning requires the base samples first to
calculate the posterior samples. To cache expensive computations, which only have
to be performed once for the same base samples, the results are stored in the model
instead of the posterior object, because a new posterior object is created in each
acquisition function call.</p>
<p>A dummy posterior for LatentKroneckerGP models.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<a class="reference internal" href="models.html#botorch.models.gpytorch.GPyTorchModel" title="botorch.models.gpytorch.GPyTorchModel"><em>GPyTorchModel</em></a>) – The LatentKroneckerGP model to which this posterior belongs to.</p></li>
<li><p><strong>X</strong> (<em>Tensor</em>) – A <cite>(batch_shape) x q x d</cite>-dim Tensor, where <cite>d</cite> is the dimension
of the feature space and <cite>q</cite> is the number of points considered
jointly, on which the posterior shall be evaluated.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.latent_kronecker.LatentKroneckerGPPosterior.base_sample_shape">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">base_sample_shape</span></span><a class="headerlink" href="#botorch.posteriors.latent_kronecker.LatentKroneckerGPPosterior.base_sample_shape" title="Link to this definition"></a></dt>
<dd><p>The shape of a base sample used for constructing posterior samples.</p>
<p>Overwrites the standard <cite>base_sample_shape</cite> call to inform samplers that
<cite>n_train_full + n_train + n_test</cite> samples are needed rather than n samples.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.latent_kronecker.LatentKroneckerGPPosterior.batch_range">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">batch_range</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#botorch.posteriors.latent_kronecker.LatentKroneckerGPPosterior.batch_range" title="Link to this definition"></a></dt>
<dd><p>The t-batch range.</p>
<p>This is used in samplers to identify the t-batch component of the
<cite>base_sample_shape</cite>. The base samples are expanded over the t-batches to
provide consistency in the acquisition values, i.e., to ensure that a
candidate produces same value regardless of its position on the t-batch.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="botorch.posteriors.latent_kronecker.LatentKroneckerGPPosterior.rsample_from_base_samples">
<span class="sig-name descname"><span class="pre">rsample_from_base_samples</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_samples</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/latent_kronecker.html#LatentKroneckerGPPosterior.rsample_from_base_samples"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.latent_kronecker.LatentKroneckerGPPosterior.rsample_from_base_samples" title="Link to this definition"></a></dt>
<dd><p>Sample from the posterior (with gradients) using base samples.</p>
<p>This is intended to be used with a sampler that produces the corresponding base
samples, and enables acquisition optimization via Sample Average Approximation.</p>
<p>Since this posterior is a dummy object, call the model to perform sampling.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sample_shape</strong> (<em>Size</em>) – A <cite>torch.Size</cite> object specifying the sample shape. To
draw <cite>n</cite> samples, set to <cite>torch.Size([n])</cite>. To draw <cite>b</cite> batches
of <cite>n</cite> samples each, set to <cite>torch.Size([b, n])</cite>.</p></li>
<li><p><strong>base_samples</strong> (<em>Tensor</em>) – A Tensor of <cite>N(0, I)</cite> base samples of shape
<cite>sample_shape x base_sample_shape</cite>, typically obtained from
a <cite>Sampler</cite>. This is used for deterministic optimization.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Samples from the posterior, a tensor of shape
<cite>self._extended_shape(sample_shape=sample_shape)</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Tensor</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="botorch.posteriors.latent_kronecker.LatentKroneckerGPPosterior.rsample">
<span class="sig-name descname"><span class="pre">rsample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/latent_kronecker.html#LatentKroneckerGPPosterior.rsample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.latent_kronecker.LatentKroneckerGPPosterior.rsample" title="Link to this definition"></a></dt>
<dd><p>Sample from the posterior (with gradients).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sample_shape</strong> (<em>Size</em><em> | </em><em>None</em>) – A <cite>torch.Size</cite> object specifying the sample shape. To
draw <cite>n</cite> samples, set to <cite>torch.Size([n])</cite>. To draw <cite>b</cite> batches
of <cite>n</cite> samples each, set to <cite>torch.Size([b, n])</cite>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Samples from the posterior, a tensor of shape
<cite>self._extended_shape(sample_shape=sample_shape)</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Tensor</em></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-botorch.posteriors.multitask">
<span id="multitask-gp-posterior"></span><h3>Multitask GP Posterior<a class="headerlink" href="#module-botorch.posteriors.multitask" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="botorch.posteriors.multitask.MultitaskGPPosterior">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">botorch.posteriors.multitask.</span></span><span class="sig-name descname"><span class="pre">MultitaskGPPosterior</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">distribution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joint_covariance_matrix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_train_covar</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_diff</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_mean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_train_covar</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_noise</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_noise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/multitask.html#MultitaskGPPosterior"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.multitask.MultitaskGPPosterior" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#botorch.posteriors.gpytorch.GPyTorchPosterior" title="botorch.posteriors.gpytorch.GPyTorchPosterior"><code class="xref py py-class docutils literal notranslate"><span class="pre">GPyTorchPosterior</span></code></a></p>
<p>Posterior class for a Kronecker Multi-task GP model using with ICM kernel.
Extends the standard GPyTorch posterior class by overwriting the rsample
method. In general, this posterior should ONLY be used for MTGP models
that have structured covariances. It should also only be used internally when
called from the <cite>KroneckerMultiTaskGP.posterior(…)</cite> method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>distribution</strong> (<em>MultivariateNormal</em>) – Posterior multivariate normal distribution.</p></li>
<li><p><strong>joint_covariance_matrix</strong> (<em>LinearOperator</em>) – Joint test train covariance matrix over the entire
tensor.</p></li>
<li><p><strong>test_train_covar</strong> (<em>LinearOperator</em>) – Covariance matrix of test x train points in the data
space.</p></li>
<li><p><strong>train_diff</strong> (<em>Tensor</em>) – Difference between train mean and train responses.</p></li>
<li><p><strong>test_mean</strong> (<em>Tensor</em>) – Test mean response.</p></li>
<li><p><strong>train_train_covar</strong> (<em>LinearOperator</em>) – Covariance matrix of train points in the data space.</p></li>
<li><p><strong>train_noise</strong> (<em>LinearOperator</em><em> | </em><em>Tensor</em>) – Training noise covariance.</p></li>
<li><p><strong>test_noise</strong> (<em>LinearOperator</em><em> | </em><em>Tensor</em><em> | </em><em>None</em>) – Only used if posterior should contain observation noise.
Testing noise covariance.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.multitask.MultitaskGPPosterior.base_sample_shape">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">base_sample_shape</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Size</span></em><a class="headerlink" href="#botorch.posteriors.multitask.MultitaskGPPosterior.base_sample_shape" title="Link to this definition"></a></dt>
<dd><p>The shape of a base sample used for constructing posterior samples.</p>
<p>Overwrites the standard <cite>base_sample_shape</cite> call to inform samplers that
<cite>n + 2 n_train</cite> samples need to be drawn rather than n samples.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.multitask.MultitaskGPPosterior.batch_range">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">batch_range</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#botorch.posteriors.multitask.MultitaskGPPosterior.batch_range" title="Link to this definition"></a></dt>
<dd><p>The t-batch range.</p>
<p>This is used in samplers to identify the t-batch component of the
<cite>base_sample_shape</cite>. The base samples are expanded over the t-batches to
provide consistency in the acquisition values, i.e., to ensure that a
candidate produces same value regardless of its position on the t-batch.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="botorch.posteriors.multitask.MultitaskGPPosterior.rsample_from_base_samples">
<span class="sig-name descname"><span class="pre">rsample_from_base_samples</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_samples</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_diff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/multitask.html#MultitaskGPPosterior.rsample_from_base_samples"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.multitask.MultitaskGPPosterior.rsample_from_base_samples" title="Link to this definition"></a></dt>
<dd><p>Sample from the posterior (with gradients) using base samples.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sample_shape</strong> (<em>Size</em>) – A <cite>torch.Size</cite> object specifying the sample shape. To
draw <cite>n</cite> samples, set to <cite>torch.Size([n])</cite>. To draw <cite>b</cite> batches
of <cite>n</cite> samples each, set to <cite>torch.Size([b, n])</cite>.</p></li>
<li><p><strong>base_samples</strong> (<em>Tensor</em><em> | </em><em>None</em>) – An (optional) Tensor of <cite>N(0, I)</cite> base samples of
appropriate dimension, typically obtained from a <cite>Sampler</cite>.
This is used for deterministic optimization.</p></li>
<li><p><strong>train_diff</strong> (<em>Tensor</em><em> | </em><em>None</em>) – Difference between train mean and train responses to assume
during sampling.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Samples from the posterior, a tensor of shape
<cite>self._extended_shape(sample_shape=sample_shape)</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Tensor</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="botorch.posteriors.multitask.MultitaskGPPosterior.rsample">
<span class="sig-name descname"><span class="pre">rsample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/multitask.html#MultitaskGPPosterior.rsample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.multitask.MultitaskGPPosterior.rsample" title="Link to this definition"></a></dt>
<dd><p>Sample from the posterior (with gradients).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sample_shape</strong> (<em>Size</em><em> | </em><em>None</em>) – A <cite>torch.Size</cite> object specifying the sample shape. To
draw <cite>n</cite> samples, set to <cite>torch.Size([n])</cite>. To draw <cite>b</cite> batches
of <cite>n</cite> samples each, set to <cite>torch.Size([b, n])</cite>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Samples from the posterior, a tensor of shape
<cite>self._extended_shape(sample_shape=sample_shape)</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Tensor</em></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-botorch.posteriors.transformed">
<span id="transformed-posterior"></span><h3>Transformed Posterior<a class="headerlink" href="#module-botorch.posteriors.transformed" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="botorch.posteriors.transformed.TransformedPosterior">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">botorch.posteriors.transformed.</span></span><span class="sig-name descname"><span class="pre">TransformedPosterior</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">posterior</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_transform</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean_transform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variance_transform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/transformed.html#TransformedPosterior"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.transformed.TransformedPosterior" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#botorch.posteriors.posterior.Posterior" title="botorch.posteriors.posterior.Posterior"><code class="xref py py-class docutils literal notranslate"><span class="pre">Posterior</span></code></a></p>
<p>A generic transformation of a posterior (implicitly represented).</p>
<p>An implicitly represented transformed posterior.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>posterior</strong> (<a class="reference internal" href="#botorch.posteriors.posterior.Posterior" title="botorch.posteriors.posterior.Posterior"><em>Posterior</em></a>) – The posterior object to be transformed.</p></li>
<li><p><strong>sample_transform</strong> (<em>Callable</em><em>[</em><em>[</em><em>Tensor</em><em>]</em><em>, </em><em>Tensor</em><em>]</em>) – A callable applying a sample-level transform to a
<cite>sample_shape x batch_shape x q x m</cite>-dim tensor of samples from
the original posterior, returning a tensor of samples of the
same shape.</p></li>
<li><p><strong>mean_transform</strong> (<em>Callable</em><em>[</em><em>[</em><em>Tensor</em><em>, </em><em>Tensor</em><em>]</em><em>, </em><em>Tensor</em><em>] </em><em>| </em><em>None</em>) – A callable transforming a 2-tuple of mean and
variance (both of shape <cite>batch_shape x m x o</cite>) of the original
posterior to the mean of the transformed posterior.</p></li>
<li><p><strong>variance_transform</strong> (<em>Callable</em><em>[</em><em>[</em><em>Tensor</em><em>, </em><em>Tensor</em><em>]</em><em>, </em><em>Tensor</em><em>] </em><em>| </em><em>None</em>) – A callable transforming a 2-tuple of mean and
variance (both of shape <cite>batch_shape x m x o</cite>) of the original
posterior to a variance of the transformed posterior.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.transformed.TransformedPosterior.base_sample_shape">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">base_sample_shape</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Size</span></em><a class="headerlink" href="#botorch.posteriors.transformed.TransformedPosterior.base_sample_shape" title="Link to this definition"></a></dt>
<dd><p>The shape of a base sample used for constructing posterior samples.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.transformed.TransformedPosterior.batch_range">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">batch_range</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#botorch.posteriors.transformed.TransformedPosterior.batch_range" title="Link to this definition"></a></dt>
<dd><p>The t-batch range.</p>
<p>This is used in samplers to identify the t-batch component of the
<cite>base_sample_shape</cite>. The base samples are expanded over the t-batches to
provide consistency in the acquisition values, i.e., to ensure that a
candidate produces same value regardless of its position on the t-batch.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.transformed.TransformedPosterior.device">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">device</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">device</span></em><a class="headerlink" href="#botorch.posteriors.transformed.TransformedPosterior.device" title="Link to this definition"></a></dt>
<dd><p>The torch device of the posterior.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.transformed.TransformedPosterior.dtype">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dtype</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dtype</span></em><a class="headerlink" href="#botorch.posteriors.transformed.TransformedPosterior.dtype" title="Link to this definition"></a></dt>
<dd><p>The torch dtype of the posterior.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.transformed.TransformedPosterior.mean">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mean</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tensor</span></em><a class="headerlink" href="#botorch.posteriors.transformed.TransformedPosterior.mean" title="Link to this definition"></a></dt>
<dd><p>The mean of the posterior as a <cite>batch_shape x n x m</cite>-dim Tensor.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.transformed.TransformedPosterior.variance">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">variance</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tensor</span></em><a class="headerlink" href="#botorch.posteriors.transformed.TransformedPosterior.variance" title="Link to this definition"></a></dt>
<dd><p>The variance of the posterior as a <cite>batch_shape x n x m</cite>-dim Tensor.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="botorch.posteriors.transformed.TransformedPosterior.rsample_from_base_samples">
<span class="sig-name descname"><span class="pre">rsample_from_base_samples</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_samples</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/transformed.html#TransformedPosterior.rsample_from_base_samples"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.transformed.TransformedPosterior.rsample_from_base_samples" title="Link to this definition"></a></dt>
<dd><p>Sample from the posterior (with gradients) using base samples.</p>
<p>This is intended to be used with a sampler that produces the corresponding base
samples, and enables acquisition optimization via Sample Average Approximation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sample_shape</strong> (<em>Size</em>) – A <cite>torch.Size</cite> object specifying the sample shape. To
draw <cite>n</cite> samples, set to <cite>torch.Size([n])</cite>. To draw <cite>b</cite> batches
of <cite>n</cite> samples each, set to <cite>torch.Size([b, n])</cite>.</p></li>
<li><p><strong>base_samples</strong> (<em>Tensor</em>) – The base samples, obtained from the appropriate sampler.
This is a tensor of shape <cite>sample_shape x base_sample_shape</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Samples from the posterior, a tensor of shape
<cite>self._extended_shape(sample_shape=sample_shape)</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Tensor</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="botorch.posteriors.transformed.TransformedPosterior.rsample">
<span class="sig-name descname"><span class="pre">rsample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/transformed.html#TransformedPosterior.rsample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.transformed.TransformedPosterior.rsample" title="Link to this definition"></a></dt>
<dd><p>Sample from the posterior (with gradients).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sample_shape</strong> (<em>Size</em><em> | </em><em>None</em>) – A <cite>torch.Size</cite> object specifying the sample shape. To
draw <cite>n</cite> samples, set to <cite>torch.Size([n])</cite>. To draw <cite>b</cite> batches
of <cite>n</cite> samples each, set to <cite>torch.Size([b, n])</cite>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Samples from the posterior, a tensor of shape
<cite>self._extended_shape(sample_shape=sample_shape)</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Tensor</em></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-botorch.posteriors.fully_bayesian">
<span id="fully-bayesian-posterior"></span><h3>Fully Bayesian Posterior<a class="headerlink" href="#module-botorch.posteriors.fully_bayesian" title="Link to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="botorch.posteriors.fully_bayesian.batched_bisect">
<span class="sig-prename descclassname"><span class="pre">botorch.posteriors.fully_bayesian.</span></span><span class="sig-name descname"><span class="pre">batched_bisect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bounds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-06</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/fully_bayesian.html#batched_bisect"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.fully_bayesian.batched_bisect" title="Link to this definition"></a></dt>
<dd><p>Batched bisection with a fixed number of steps.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> (<em>Callable</em>) – Target function that takes a <cite>(b1 x … x bk)</cite>-dim tensor and returns a
<cite>(b1 x … x bk)</cite>-dim tensor.</p></li>
<li><p><strong>target</strong> (<em>float</em>) – Scalar target value of type float.</p></li>
<li><p><strong>bounds</strong> (<em>Tensor</em>) – Lower and upper bounds, of size <cite>2 x b1 x … x bk</cite>.</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – We termniate if all elements satisfy are within <cite>tol</cite> of the <cite>target</cite>.</p></li>
<li><p><strong>max_steps</strong> (<em>int</em>) – Maximum number of bisection steps.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tensor X of size <cite>b1 x … x bk</cite> such that <cite>f(X) = target</cite>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="botorch.posteriors.fully_bayesian.GaussianMixturePosterior">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">botorch.posteriors.fully_bayesian.</span></span><span class="sig-name descname"><span class="pre">GaussianMixturePosterior</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">distribution</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/fully_bayesian.html#GaussianMixturePosterior"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.fully_bayesian.GaussianMixturePosterior" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#botorch.posteriors.gpytorch.GPyTorchPosterior" title="botorch.posteriors.gpytorch.GPyTorchPosterior"><code class="xref py py-class docutils literal notranslate"><span class="pre">GPyTorchPosterior</span></code></a></p>
<p>A Gaussian mixture posterior.</p>
<p>The MCMC batch dimension that corresponds to the models in the mixture is located
at <cite>MCMC_DIM</cite> (defined at the top of this file). Note that while each MCMC sample
corresponds to a Gaussian posterior, the posterior is rather a mixture of Gaussian
distributions.</p>
<p>A posterior for a fully Bayesian model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>distribution</strong> (<em>MultivariateNormal</em>) – A GPyTorch MultivariateNormal (single-output case)</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.fully_bayesian.GaussianMixturePosterior.mixture_mean">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mixture_mean</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tensor</span></em><a class="headerlink" href="#botorch.posteriors.fully_bayesian.GaussianMixturePosterior.mixture_mean" title="Link to this definition"></a></dt>
<dd><p>The posterior mean for the mixture of models.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.fully_bayesian.GaussianMixturePosterior.mixture_variance">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mixture_variance</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tensor</span></em><a class="headerlink" href="#botorch.posteriors.fully_bayesian.GaussianMixturePosterior.mixture_variance" title="Link to this definition"></a></dt>
<dd><p>The posterior variance for the mixture of models.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.fully_bayesian.GaussianMixturePosterior.mixture_covariance_matrix">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mixture_covariance_matrix</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tensor</span></em><a class="headerlink" href="#botorch.posteriors.fully_bayesian.GaussianMixturePosterior.mixture_covariance_matrix" title="Link to this definition"></a></dt>
<dd><p>The posterior covariance matrix for the mixture of models.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="botorch.posteriors.fully_bayesian.GaussianMixturePosterior.quantile">
<span class="sig-name descname"><span class="pre">quantile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/fully_bayesian.html#GaussianMixturePosterior.quantile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.fully_bayesian.GaussianMixturePosterior.quantile" title="Link to this definition"></a></dt>
<dd><p>Compute the posterior quantiles for the mixture of models.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>Tensor</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><em>Tensor</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="botorch.posteriors.fully_bayesian.GaussianMixturePosterior.batch_range">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">batch_range</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#botorch.posteriors.fully_bayesian.GaussianMixturePosterior.batch_range" title="Link to this definition"></a></dt>
<dd><p>The t-batch range.</p>
<p>This is used in samplers to identify the t-batch component of the
<cite>base_sample_shape</cite>. The base samples are expanded over the t-batches to
provide consistency in the acquisition values, i.e., to ensure that a
candidate produces same value regardless of its position on the t-batch.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="botorch.posteriors.fully_bayesian.FullyBayesianPosterior">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">botorch.posteriors.fully_bayesian.</span></span><span class="sig-name descname"><span class="pre">FullyBayesianPosterior</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">distribution</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/botorch/posteriors/fully_bayesian.html#FullyBayesianPosterior"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#botorch.posteriors.fully_bayesian.FullyBayesianPosterior" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#botorch.posteriors.fully_bayesian.GaussianMixturePosterior" title="botorch.posteriors.fully_bayesian.GaussianMixturePosterior"><code class="xref py py-class docutils literal notranslate"><span class="pre">GaussianMixturePosterior</span></code></a></p>
<p>For backwards compatibility.</p>
<p>DEPRECATED.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>distribution</strong> (<em>MultivariateNormal</em>)</p>
</dd>
</dl>
</dd></dl>

</section>
</section>
<section id="utilities">
<h2>Utilities<a class="headerlink" href="#utilities" title="Link to this heading"></a></h2>
<section id="module-botorch.posteriors.base_samples">
<span id="base-samples"></span><h3>Base Samples<a class="headerlink" href="#module-botorch.posteriors.base_samples" title="Link to this heading"></a></h3>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="generation.html" class="btn btn-neutral float-left" title="botorch.generation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="optim.html" class="btn btn-neutral float-right" title="botorch.optim" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>